/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function t(c,z){return function(d){return d}(function(d,A,g,a){var b=window.document,B=window.requestAnimationFrame.bind(window),u=window.cancelAnimationFrame.bind(window);a.defineExtension("ko-grid-column-resizing",{C:["ko-grid-column-sizing"],A:function(a,d,f){function h(a){a.forEach(function(a){!e[a.id]&&a.columns.filter(v).length&&(e[a.id]=a.element.subscribe(function(a){if(a){var k=b.createElement("div");k.classList.add("ko-grid-column-resizer");a.appendChild(k)}}))})}var v=f.extensions["ko-grid-column-sizing"].isResizable,
e={},c=f.headers.all.subscribe(h);h(f.headers.all());var p=!1;this.isResizeInProgress=this.r=function(){return p};f.rootElement.addEventListener("mousedown",function(a){function d(){for(var a=n+w-x,a=Math.max(0,a-10*l.length),b=0;b<l.length;++b){var k=Math.round(h[b]*a);l[b].width(10+k+"px");a-=k}}function e(b){w=b.pageX;m&&u(m);m=B(d);a.preventDefault()}function c(){m&&u(m);b.removeEventListener("mousemove",e);b.removeEventListener("mouseup",c);b.body.removeChild(q);a.target.classList.remove("active");
p=!1;f.layout.recalculate()}if(g.element.matches(a.target,".ko-grid-column-resizer")){a.preventDefault();var q=b.createElement("div");q.id="ko-grid-column-resize-in-progress";b.body.appendChild(q);a.target.classList.add("active");p=!0;for(var l=A.contextFor(a.target).header().columns.filter(v),n=0,h=[],r=l.length-1;0<=r;--r){var y=l[r].widthInPixels(),n=n+y;h.unshift(y/n)}var x=a.pageX,w=x,m=null;b.addEventListener("mousemove",e);b.addEventListener("mouseup",c)}},!0);f.rootElement.addEventListener("click",
function(a){g.element.matches(a.target,".ko-grid-column-resizer")&&a.preventDefault()},!0);this.dispose=function(){c.dispose();Object.keys(e).forEach(function(a){e[a].dispose()})}}});return a.declareExtensionAlias("columnResizing","ko-grid-column-resizing")}({},z,function(){return function(d){return d}(function(){function d(a,b){return!!(a.compareDocumentPosition(b)&16)}var c=window.Element,g=c.prototype.webkitMatchesSelector||c.prototype.mozMatchesSelector||c.prototype.msMatchesSelector||c.prototype.matches;
return{o:function(a,b){for(var c=0;b;){if(b===a)return c;b=b.parentNode;++c}throw Error("The given node is not part of the subtree.");},q:function(a,b){return a===b||d(a,b)},t:d,element:{m:function(a,b){do{if(g.call(a,b))return a;a=a.parentElement}while(a);return null},matches:function(a,b){return g.call(a,b)}}}}())}(),c))}
"function"===typeof define&&define.amd?define(["ko-grid","knockout","ko-grid-column-sizing","ko-data-source","ko-indexed-repeat"],t):window["ko-grid-column-resizing"]=t(window.ko.bindingHandlers.grid,window.ko);